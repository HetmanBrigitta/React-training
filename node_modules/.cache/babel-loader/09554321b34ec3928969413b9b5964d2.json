{"ast":null,"code":"var _jsxFileName = \"/home/brigitta.hetman/B/OFFICE/my_projects/hotel-service-management/src/components/authentication/register/Register.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Field, Form, Formik } from 'formik';\nimport useAuth from '../../../hooks/useAuth';\nimport CustomInput from '../../../components/shared/CustomInput';\nimport CustomDatePicker from '../../shared/DatePicker';\nimport GenderRadioBtn from '../../shared/GenderRadioBtn';\nimport TextArea from '../../shared/TextArea';\nimport { registerSchema } from './validationSchema';\nimport style from './Register.module.scss';\nimport CustomFileUpload from '../../shared/CustomFileUpload'; // import CustomFileInput from '../../shared/CustomFileInput';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const [, register, error] = useAuth();\n  const initialValues = {\n    username: '',\n    password: '',\n    passwordConfirmation: '',\n    email: '',\n    firstName: '',\n    lastName: '',\n    birthDate: null,\n    gender: 1\n  };\n\n  const handleOnSubmit = async ({\n    passwordConfirmation,\n    ...values\n  }) => {\n    const date = new Date(values.birthDate);\n    const formData = new FormData();\n    const submittedValues = { ...values,\n      picture: values.picture,\n      birthDate: new Date(date.getTime() - date.getTimezoneOffset() * 60000).toISOString().split('T')[0]\n    };\n    Object.entries(submittedValues).forEach(value => {\n      if (value[1]) {\n        formData.append(value[0], value[1].toString());\n      }\n    });\n    await register(formData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: initialValues,\n    validationSchema: registerSchema,\n    onSubmit: handleOnSubmit,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      className: style.registerWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: style.mainTitle,\n        children: \"Welcome, please register here!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"label\", {\n        className: style.error,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${error ? style.serverError : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(Field, {\n          name: \"username\",\n          label: \"Username:\",\n          component: CustomInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"password\",\n          label: \"Password:\",\n          type: \"password\",\n          component: CustomInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"passwordConfirmation\",\n          label: \"Confirm Password:\",\n          type: \"password\",\n          component: CustomInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"email\",\n          label: \"Email:\",\n          type: \"email\",\n          component: CustomInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"firstName\",\n          label: \"First Name:\",\n          component: CustomInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"lastName\",\n          label: \"Last Name:\",\n          component: CustomInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"birthDate\",\n          label: \"Date of Birth:\",\n          component: CustomDatePicker\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"gender\",\n          label: \"Gender:\",\n          component: GenderRadioBtn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"bio\",\n          label: \"Short description:\",\n          placeholder: \"Enter short description...\",\n          rows: \"5\",\n          component: TextArea\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"address\",\n          label: \"Address:\",\n          component: CustomInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"picture\",\n          label: \"Upload profile picture:\",\n          component: CustomFileUpload\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: style.registerAuthBtn,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"9jiktlbS6oHXnkIodqOTBIl2QV0=\", false, function () {\n  return [useAuth];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/home/brigitta.hetman/B/OFFICE/my_projects/hotel-service-management/src/components/authentication/register/Register.tsx"],"names":["React","Field","Form","Formik","useAuth","CustomInput","CustomDatePicker","GenderRadioBtn","TextArea","registerSchema","style","CustomFileUpload","Register","register","error","initialValues","username","password","passwordConfirmation","email","firstName","lastName","birthDate","gender","handleOnSubmit","values","date","Date","formData","FormData","submittedValues","picture","getTime","getTimezoneOffset","toISOString","split","Object","entries","forEach","value","append","toString","registerWrapper","mainTitle","serverError","registerAuthBtn"],"mappings":"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","sourcesContent":["import React, { FC } from 'react';\nimport { Field, Form, Formik } from 'formik';\n\nimport useAuth from '../../../hooks/useAuth';\n\nimport CustomInput from '../../../components/shared/CustomInput';\nimport CustomDatePicker from '../../shared/DatePicker';\nimport GenderRadioBtn from '../../shared/GenderRadioBtn';\nimport TextArea from '../../shared/TextArea';\n\nimport { IAuth, IPasswordConfirmation, IRegister } from '../../../interfaces/IAuth';\nimport { registerSchema } from './validationSchema';\n\nimport style from './Register.module.scss';\nimport CustomFileUpload from '../../shared/CustomFileUpload';\n// import CustomFileInput from '../../shared/CustomFileInput';\n\ntype IRegisterData = IRegister & IAuth & IPasswordConfirmation;\n\nconst Register: FC = () => {\n  const [, register, error] = useAuth();\n\n  const initialValues: IRegisterData = {\n    username: '',\n    password: '',\n    passwordConfirmation: '',\n    email: '',\n    firstName: '',\n    lastName: '',\n    birthDate: null,\n    gender: 1\n  };\n\n  const handleOnSubmit = async ({ passwordConfirmation, ...values }: IRegisterData) => {\n    const date = new Date(values.birthDate as string);\n    const formData = new FormData();\n\n    const submittedValues = {\n      ...values,\n      picture: values.picture,\n      birthDate: new Date(date.getTime() - date.getTimezoneOffset() * 60000)\n        .toISOString()\n        .split('T')[0]\n    };\n\n    Object.entries(submittedValues).forEach((value) => {\n      if (value[1]) {\n        formData.append(value[0], value[1].toString());\n      }\n    });\n\n    await register(formData);\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={registerSchema}\n      onSubmit={handleOnSubmit}>\n      <Form className={style.registerWrapper}>\n        <h1 className={style.mainTitle}>Welcome, please register here!</h1>\n        {error && <label className={style.error}>{error}</label>}\n        <div className={`${error ? style.serverError : ''}`}>\n          <Field name=\"username\" label=\"Username:\" component={CustomInput} />\n          <Field name=\"password\" label=\"Password:\" type=\"password\" component={CustomInput} />\n          <Field\n            name=\"passwordConfirmation\"\n            label=\"Confirm Password:\"\n            type=\"password\"\n            component={CustomInput}\n          />\n          <Field name=\"email\" label=\"Email:\" type=\"email\" component={CustomInput} />\n          <Field name=\"firstName\" label=\"First Name:\" component={CustomInput} />\n          <Field name=\"lastName\" label=\"Last Name:\" component={CustomInput} />\n          <Field name=\"birthDate\" label=\"Date of Birth:\" component={CustomDatePicker} />\n          <Field name=\"gender\" label=\"Gender:\" component={GenderRadioBtn} />\n          <Field\n            name=\"bio\"\n            label=\"Short description:\"\n            placeholder=\"Enter short description...\"\n            rows=\"5\"\n            component={TextArea}\n          />\n          <Field name=\"address\" label=\"Address:\" component={CustomInput} />\n          <Field name=\"picture\" label=\"Upload profile picture:\" component={CustomFileUpload} />\n        </div>\n        <button type=\"submit\" className={style.registerAuthBtn}>\n          Register\n        </button>\n      </Form>\n    </Formik>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}