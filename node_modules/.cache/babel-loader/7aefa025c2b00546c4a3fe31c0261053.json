{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { rolesApi } from '../api/rolesApi';\nimport { roleSelectors } from '../store/selectors';\nimport { roleActions } from '../store/reducers/roleReducer';\n\nconst useGetRoles = () => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const roles = useSelector(roleSelectors.getRoles);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (roles.length > 0) return;\n    setIsLoading(true);\n    rolesApi.getRoles().then(({\n      data\n    }) => dispatch(roleActions.setRoles(data.roles))).catch(({\n      response\n    }) => console.error(response.status)).finally(() => setIsLoading(false));\n  }, []);\n  return [roles, isLoading];\n};\n\n_s(useGetRoles, \"jlnOEs7kEVha4jaBXraOXGm8/B8=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\nexport default useGetRoles;","map":{"version":3,"sources":["/home/brigitta.hetman/B/OFFICE/my_projects/hotel-service-management/src/hooks/useRoles.ts"],"names":["useEffect","useState","useDispatch","useSelector","rolesApi","roleSelectors","roleActions","useGetRoles","isLoading","setIsLoading","roles","getRoles","dispatch","length","then","data","setRoles","catch","response","console","error","status","finally"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,aAAT,QAA8B,oBAA9B;AACA,SAASC,WAAT,QAA4B,+BAA5B;;AAMA,MAAMC,WAAW,GAAG,MAAe;AAAA;;AACjC,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAU,KAAV,CAA1C;AACA,QAAMS,KAAK,GAAGP,WAAW,CAACE,aAAa,CAACM,QAAf,CAAzB;AACA,QAAMC,QAAQ,GAAGV,WAAW,EAA5B;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIU,KAAK,CAACG,MAAN,GAAe,CAAnB,EAAsB;AAEtBJ,IAAAA,YAAY,CAAC,IAAD,CAAZ;AAEAL,IAAAA,QAAQ,CACLO,QADH,GAEGG,IAFH,CAEQ,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAcH,QAAQ,CAACN,WAAW,CAACU,QAAZ,CAAqBD,IAAI,CAACL,KAA1B,CAAD,CAF9B,EAGGO,KAHH,CAGS,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAkBC,OAAO,CAACC,KAAR,CAAcF,QAAQ,CAACG,MAAvB,CAH3B,EAIGC,OAJH,CAIW,MAAMb,YAAY,CAAC,KAAD,CAJ7B;AAKD,GAVQ,EAUN,EAVM,CAAT;AAYA,SAAO,CAACC,KAAD,EAAQF,SAAR,CAAP;AACD,CAlBD;;GAAMD,W;UAEUJ,W,EACGD,W;;;AAiBnB,eAAeK,WAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { rolesApi } from '../api/rolesApi';\nimport { roleSelectors } from '../store/selectors';\nimport { roleActions } from '../store/reducers/roleReducer';\n\nimport { IRoles } from '../interfaces/IRoles';\n\ntype TReturn = [IRoles[], boolean];\n\nconst useGetRoles = (): TReturn => {\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const roles = useSelector(roleSelectors.getRoles);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (roles.length > 0) return;\n\n    setIsLoading(true);\n\n    rolesApi\n      .getRoles()\n      .then(({ data }) => dispatch(roleActions.setRoles(data.roles)))\n      .catch(({ response }) => console.error(response.status))\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  return [roles, isLoading];\n};\n\nexport default useGetRoles;\n"]},"metadata":{},"sourceType":"module"}