{"ast":null,"code":"var _jsxFileName = \"/home/brigitta.hetman/B/OFFICE/my_projects/hotel-service-management/src/components/shared/CustomFileUpload.tsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction FileUpload(props) {\n  const {\n    field,\n    form\n  } = props;\n\n  const handleChange = e => {\n    const file = e.currentTarget.files[0];\n    const reader = new FileReader();\n    const imgTag = document.getElementById('myimage');\n\n    if (imgTag) {\n      imgTag.title = file.name;\n    } else {\n      return;\n    }\n\n    reader.onload = function (event) {\n      if (imgTag) {\n        var _event$target;\n\n        imgTag.src = (_event$target = event.target) === null || _event$target === void 0 ? void 0 : _event$target.result;\n      }\n    };\n\n    reader.readAsDataURL(file);\n    form.setFieldValue(field.name, file);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: 'file',\n      onChange: o => handleChange(o),\n      className: 'form-control'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: '',\n      alt: \"\",\n      id: 'myimage'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_c = FileUpload;\nexport default FileUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"sources":["/home/brigitta.hetman/B/OFFICE/my_projects/hotel-service-management/src/components/shared/CustomFileUpload.tsx"],"names":["React","FileUpload","props","field","form","handleChange","e","file","currentTarget","files","reader","FileReader","imgTag","document","getElementById","title","name","onload","event","src","target","result","readAsDataURL","setFieldValue","o"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;AAYA,SAASC,UAAT,CAAoBC,KAApB,EAAuC;AACrC,QAAM;AAACC,IAAAA,KAAD;AAAQC,IAAAA;AAAR,MAAgBF,KAAtB;;AAEA,QAAMG,YAAY,GAAIC,CAAD,IAAe;AAClC,UAAMC,IAAI,GAAKD,CAAC,CAACE,aAAF,CAAgBC,KAAhB,CAAsB,CAAtB,CAAf;AACA,UAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACA,UAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAf;;AAEA,QAAIF,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACG,KAAP,GAAeR,IAAI,CAACS,IAApB;AACD,KAFD,MAEO;AACL;AACD;;AAEDN,IAAAA,MAAM,CAACO,MAAP,GAAgB,UAASC,KAAT,EAAgB;AAC9B,UAAIN,MAAJ,EAAY;AAAA;;AACVA,QAAAA,MAAM,CAACO,GAAP,oBAAaD,KAAK,CAACE,MAAnB,kDAAa,cAAcC,MAA3B;AACD;AACF,KAJD;;AAMAX,IAAAA,MAAM,CAACY,aAAP,CAAqBf,IAArB;AACAH,IAAAA,IAAI,CAACmB,aAAL,CAAmBpB,KAAK,CAACa,IAAzB,EAA+BT,IAA/B;AACD,GAnBD;;AAqBA,sBACE;AAAA,4BACE;AAAO,MAAA,IAAI,EAAE,MAAb;AAAqB,MAAA,QAAQ,EAAGiB,CAAD,IAAOnB,YAAY,CAACmB,CAAD,CAAlD;AAAuD,MAAA,SAAS,EAAE;AAAlE;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,GAAG,EAAE,EAAV;AAAc,MAAA,GAAG,EAAC,EAAlB;AAAqB,MAAA,EAAE,EAAE;AAAzB;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD;;KA9BQvB,U;AAgCT,eAAeA,UAAf","sourcesContent":["import React from 'react';\nimport { FieldProps } from 'formik';\n\ninterface IEvent {\n  currentTarget: {\n    files: {\n      0: File,\n      length: number\n    }\n  }\n}\n\nfunction FileUpload(props: FieldProps) {\n  const {field, form} = props;\n\n  const handleChange = (e: IEvent) => {\n    const file  =  e.currentTarget.files[0];\n    const reader = new FileReader();\n    const imgTag = document.getElementById('myimage');\n\n    if (imgTag) {\n      imgTag.title = file.name;\n    } else {\n      return;\n    }\n\n    reader.onload = function(event) {\n      if (imgTag) {\n        imgTag.src = event.target?.result;\n      }\n    };\n\n    reader.readAsDataURL(file);\n    form.setFieldValue(field.name, file);\n  };\n\n  return (\n    <div>\n      <input type={'file'} onChange={(o) => handleChange(o)} className={'form-control'}/>\n      <img src={''} alt=\"\" id={'myimage'}/>\n    </div>\n  );\n}\n\nexport default FileUpload;\n"]},"metadata":{},"sourceType":"module"}