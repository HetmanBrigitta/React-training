{"ast":null,"code":"var _jsxFileName = \"/home/brigitta.hetman/B/OFFICE/my_projects/hotel-service-management/src/components/shared/CustomFileUpload.tsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction FileUpload(props) {\n  const {\n    field,\n    form\n  } = props;\n\n  const handleChange = e => {\n    console.log(e.currentTarget.files);\n    const file = e.currentTarget.files[0];\n    const reader = new FileReader();\n    const imgTag = document.getElementById('myimage');\n\n    if (imgTag) {\n      imgTag.title = file.name;\n    }\n\n    reader.onload = function (event) {\n      if (imgTag) {\n        console.log(imgTag); //imgTag.src = event.target?.result;\n      }\n    };\n\n    reader.readAsDataURL(file);\n    form.setFieldValue(field.name, file);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: 'file',\n      onChange: o => handleChange(o),\n      className: 'form-control'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: '',\n      alt: \"\",\n      id: 'myimage'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\n_c = FileUpload;\nexport default FileUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"sources":["/home/brigitta.hetman/B/OFFICE/my_projects/hotel-service-management/src/components/shared/CustomFileUpload.tsx"],"names":["React","FileUpload","props","field","form","handleChange","e","console","log","currentTarget","files","file","reader","FileReader","imgTag","document","getElementById","title","name","onload","event","readAsDataURL","setFieldValue","o"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;AAGA,SAASC,UAAT,CAAoBC,KAApB,EAAuC;AACrC,QAAM;AAACC,IAAAA,KAAD;AAAQC,IAAAA;AAAR,MAAgBF,KAAtB;;AAEA,QAAMG,YAAY,GAAIC,CAAD,IAAW;AAC9BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,aAAF,CAAgBC,KAA5B;AACA,UAAMC,IAAI,GAAKL,CAAC,CAACG,aAAF,CAAgBC,KAAhB,CAAsB,CAAtB,CAAf;AACA,UAAME,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACA,UAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAf;;AAEA,QAAIF,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACG,KAAP,GAAeN,IAAI,CAACO,IAApB;AACD;;AAEDN,IAAAA,MAAM,CAACO,MAAP,GAAgB,UAASC,KAAT,EAAgB;AAC9B,UAAIN,MAAJ,EAAY;AACVP,QAAAA,OAAO,CAACC,GAAR,CAAYM,MAAZ,EADU,CAEV;AACD;AACF,KALD;;AAOAF,IAAAA,MAAM,CAACS,aAAP,CAAqBV,IAArB;AACAP,IAAAA,IAAI,CAACkB,aAAL,CAAmBnB,KAAK,CAACe,IAAzB,EAA+BP,IAA/B;AACD,GAnBD;;AAqBA,sBACE;AAAA,4BACE;AAAO,MAAA,IAAI,EAAE,MAAb;AAAqB,MAAA,QAAQ,EAAGY,CAAD,IAAOlB,YAAY,CAACkB,CAAD,CAAlD;AAAuD,MAAA,SAAS,EAAE;AAAlE;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,GAAG,EAAE,EAAV;AAAc,MAAA,GAAG,EAAC,EAAlB;AAAqB,MAAA,EAAE,EAAE;AAAzB;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD;;KA9BQtB,U;AAgCT,eAAeA,UAAf","sourcesContent":["import React from 'react';\nimport { FieldProps } from 'formik';\n\nfunction FileUpload(props: FieldProps) {\n  const {field, form} = props;\n\n  const handleChange = (e:any) => {\n    console.log(e.currentTarget.files);\n    const file  =  e.currentTarget.files[0];\n    const reader = new FileReader();\n    const imgTag = document.getElementById('myimage');\n\n    if (imgTag) {\n      imgTag.title = file.name;\n    }\n\n    reader.onload = function(event) {\n      if (imgTag) {\n        console.log(imgTag);\n        //imgTag.src = event.target?.result;\n      }\n    };\n\n    reader.readAsDataURL(file);\n    form.setFieldValue(field.name, file);\n  };\n\n  return (\n    <div>\n      <input type={'file'} onChange={(o) => handleChange(o)} className={'form-control'}/>\n      <img src={''} alt=\"\" id={'myimage'}/>\n    </div>\n  );\n}\n\nexport default FileUpload;\n"]},"metadata":{},"sourceType":"module"}